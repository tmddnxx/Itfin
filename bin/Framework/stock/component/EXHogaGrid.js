!async function(){await afc.import("Framework/afc/component/AGrid.js"),(EXHogaGrid=class EXHogaGrid extends AGrid{constructor(){super(),this.frwName="stock",this.quoteCount=10,this.rowLen=0,this.colLen=0,this.btmRowCnt=0,this.basePrice=void 0,this.basePriceKey="",this.curPriceKey="",this.currentCell=null,this.currentPrice=void 0,this.curPriceStyleArr=null,this.upColor=StockColor.UP_COLOR,this.downColor=StockColor.DOWN_COLOR,this.steadyColor=StockColor.STEADY_COLOR,this.barSize="70%",this.valArr=null,this.rateMode=!1,this.rateClass="",this.rateStyle="",this.rateSuffixStr=EXHogaGrid.rateSuffixStr}}).rateSuffixStr="%",EXHogaGrid.setRateSuffixStr=function(t){EXHogaGrid.rateSuffixStr=t},EXHogaGrid.CONTEXT={tag:'<div data-base="EXHogaGrid" data-class="EXHogaGrid" data-nochange-count="true" data-bottom-count="1"\t\t  data-hide-header="true" data-selectable="true" data-single-select="true" data-flexible-row="true" class="AGrid-Style">\t\t\t<table align="center" class="grid-header-table" style="width: calc(100% - 14px); border-collapse: collapse; table-layout: fixed;">\t\t\t\t<colgroup><col width="35%"><col width="30%"><col width="35%"></colgroup>\t\t\t\t<thead align="center" class="head-prop" style="display: none;">\t\t\t\t\t<tr height="22px"><td>col1</td><td>col2</td><td>col3</td></tr>\t\t\t\t</thead>\t\t\t</table>\t\t\t<div style="height: 100%; overflow-y: auto; overflow-x: hidden;">\t\t\t\t<table align="center" class="grid-body-table" style="width:100%; border-collapse:collapse; table-layout: fixed;">\t\t\t\t<colgroup><col width="35%"><col width="30%"><col width="35%"></colgroup>\t\t\t\t\t<thead align="center" class="head-prop" style="display: none;">\t\t\t\t\t\t<tr height="22px"><td>col1</td><td>col2</td><td>col3</td></tr>\t\t\t\t\t</thead>                    <tbody align="center" class="body-prop">\t\t\t\t\t\t<tr height="22px">\t\t\t\t\t\t\t<td style="padding: 0px 5px; text-align: right; background: linear-gradient(90deg, #e7f2ff 0%, #e7f2ff 100%) 100% 50% no-repeat;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td rowspan="10" style="padding: 0px 5px; text-align: left;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px">\t\t\t\t\t\t\t<td style="padding: 0px 5px; text-align: right; background: linear-gradient(90deg, #e7f2ff 0%, #e7f2ff 100%) 100% 50% no-repeat;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="padding: 0px 5px; display: none; text-align: left;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="text-align: right; padding: 0px 5px; background: linear-gradient(90deg, #e7f2ff 0%, #e7f2ff 100%) 100% 50% no-repeat;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="display: none; text-align: left; padding: 0px 5px;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="text-align: right; padding: 0px 5px; background: linear-gradient(90deg, #e7f2ff 0%, #e7f2ff 100%) 100% 50% no-repeat;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="display: none; text-align: left; padding: 0px 5px;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="text-align: right; padding: 0px 5px; background: linear-gradient(90deg, #e7f2ff 0%, #e7f2ff 100%) 100% 50% no-repeat;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="display: none; text-align: left; padding: 0px 5px;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="text-align: right; padding: 0px 5px; background: linear-gradient(90deg, #e7f2ff 0%, #e7f2ff 100%) 100% 50% no-repeat;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="display: none; text-align: left; padding: 0px 5px;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="text-align: right; padding: 0px 5px; background: linear-gradient(90deg, #e7f2ff 0%, #e7f2ff 100%) 100% 50% no-repeat;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="display: none; text-align: left; padding: 0px 5px;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="text-align: right; padding: 0px 5px; background: linear-gradient(90deg, #e7f2ff 0%, #e7f2ff 100%) 100% 50% no-repeat;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="display: none; text-align: left; padding: 0px 5px;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="text-align: right; padding: 0px 5px; background: linear-gradient(90deg, #e7f2ff 0%, #e7f2ff 100%) 100% 50% no-repeat;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="display: none; text-align: left; padding: 0px 5px;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="text-align: right; padding: 0px 5px; background: linear-gradient(90deg, #e7f2ff 0%, #e7f2ff 100%) 100% 50% no-repeat;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="display: none; text-align: left; padding: 0px 5px;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td rowspan="10" style="text-align: right; padding: 0px 5px;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="text-align: left; padding: 0px 5px; background: linear-gradient(90deg, #ffebed 0%, #ffebed 100%) 0% 50% no-repeat;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="display: none; text-align: right; padding: 0px 5px;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="text-align: left; padding: 0px 5px; background: linear-gradient(90deg, #ffebed 0%, #ffebed 100%) 0% 50% no-repeat;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="display: none; text-align: right; padding: 0px 5px;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="text-align: left; padding: 0px 5px; background: linear-gradient(90deg, #ffebed 0%, #ffebed 100%) 0% 50% no-repeat;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="display: none; text-align: right; padding: 0px 5px;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="text-align: left; padding: 0px 5px; background: linear-gradient(90deg, #ffebed 0%, #ffebed 100%) 0% 50% no-repeat;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="display: none; text-align: right; padding: 0px 5px;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="text-align: left; padding: 0px 5px; background: linear-gradient(90deg, #ffebed 0%, #ffebed 100%) 0% 50% no-repeat;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="display: none; text-align: right; padding: 0px 5px;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="text-align: left; padding: 0px 5px; background: linear-gradient(90deg, #ffebed 0%, #ffebed 100%) 0% 50% no-repeat;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="display: none; text-align: right; padding: 0px 5px;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="text-align: left; padding: 0px 5px; background: linear-gradient(90deg, #ffebed 0%, #ffebed 100%) 0% 50% no-repeat;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="display: none; text-align: right; padding: 0px 5px;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="text-align: left; padding: 0px 5px; background: linear-gradient(90deg, #ffebed 0%, #ffebed 100%) 0% 50% no-repeat;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="display: none; text-align: right; padding: 0px 5px;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="text-align: left; padding: 0px 5px; background: linear-gradient(90deg, #ffebed 0%, #ffebed 100%) 0% 50% no-repeat;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="display: none; text-align: right; padding: 0px 5px;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="text-align: left; padding: 0px 5px; background: linear-gradient(90deg, #ffebed 0%, #ffebed 100%) 0% 50% no-repeat;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t<tr height="22px;">\t\t\t\t\t\t\t<td style="text-align: right; padding: 0px 5px;"></td>\t\t\t\t\t\t\t<td style="padding: 0px;"></td>\t\t\t\t\t\t\t<td style="text-align: left; padding: 0px 5px;"></td>\t\t\t\t\t\t</tr>\t\t\t\t\t</tbody>\t\t\t\t</table>\t\t\t</div>',defStyle:{width:"400px",height:"463px"},events:["dblclick","longtab","select","scrolltop","scrollbottom"]},EXHogaGrid.prototype.init=function(t,e){AGrid.prototype.init.call(this,t,e);t=this.getAttr("data-bottom-count");t&&(this.btmRowCnt=parseInt(t)),this.rowLen=this.getRowCount()-this.btmRowCnt,this.colLen=this.getColumnCount(),this.quoteCount=this.rowLen/2,this.setCurrentPriceStyleArr([this.getAttr("data-select-up"),this.getAttr("data-select-down"),this.getAttr("data-select-steady")]),this.curPriceKey=this.getAttr("data-field-curprc"),this.basePriceKey=this.getAttr("data-field-baseprc"),this.setUpColor(this.getAttr("data-up-color")),this.setDownColor(this.getAttr("data-down-color")),this.setSteadyColor(this.getAttr("data-steady-color")),this.setBarSize(this.getAttr("data-bar-size")),this.initBar(),this.isDev()||(this.selectStyleName=null),this._clearValArr()},EXHogaGrid.prototype.clearContents=function(){this._clearValArr(),this.tBody.find("td").each(function(){this.textContent="",this.dm&&this.dm.setOriginal("")}),this.initBar()},EXHogaGrid.prototype.resetGrid=function(){this._clearValArr(),this.removeAll(),this.addRow([])},EXHogaGrid.prototype.setBasePrice=function(t){this.basePrice=t=t||void 0;for(var e,r,i=0;i<this.rowLen;i++)"none"!=(e=this.getCell(i,1)).style.display&&(r=this.valArr[i][1],this.basePrice<r?e.style.color=this.upColor:this.basePrice>r?e.style.color=this.downColor:e.style.color=this.steadyColor)},EXHogaGrid.prototype.setBasePriceKey=function(t){this.basePriceKey=t},EXHogaGrid.prototype.setCurrentPrice=function(t){this.currentPrice=t;for(var e,r,i=0;i<this.rowLen;i++)if("none"!=(e=this.getCell(i,1)).style.display&&(r=this.valArr[i][1],this.currentPrice==r))return void this.selectCurrentCell(e)},EXHogaGrid.prototype.setCurPriceKey=function(t){this.curPriceKey=t},EXHogaGrid.prototype.setUpColor=function(t){t&&(this.upColor=t)},EXHogaGrid.prototype.setDownColor=function(t){t&&(this.downColor=t)},EXHogaGrid.prototype.setSteadyColor=function(t){t&&(this.steadyColor=t)},EXHogaGrid.prototype.getUpColor=function(t){return this.upColor},EXHogaGrid.prototype.getDownColor=function(t){return this.downColor},EXHogaGrid.prototype.getSteadyColor=function(t){return this.steadyColor},EXHogaGrid.prototype.setRateMode=function(t){this.rateMode=t},EXHogaGrid.prototype.getRateMode=function(){return this.rateMode},EXHogaGrid.prototype.setRateSuffixStr=function(t){this.rateSuffixStr=t},EXHogaGrid.prototype.selectCurrentCell=function(t){this._clearCurrentCell(),this.currentCell=$(t),null==this.basePrice?this.currentCell.addClass(this.curPriceStyleArr[2]):this.basePrice<this.currentPrice?this.currentCell.addClass(this.curPriceStyleArr[0]):this.basePrice>this.currentPrice?this.currentCell.addClass(this.curPriceStyleArr[1]):this.currentCell.addClass(this.curPriceStyleArr[2]),this._currentCellBorderRight=this.currentCell[0].style.getPropertyValue("border-right"),this._currentCellBorderBottom=this.currentCell[0].style.getPropertyValue("border-bottom"),this.currentCell[0].style.setProperty("border-right","none","important"),this.currentCell[0].style.setProperty("border-bottom","none","important")},EXHogaGrid.prototype._clearCurrentCell=function(){this.currentCell&&(this.currentCell.removeClass(this.curPriceStyleArr[0]),this.currentCell.removeClass(this.curPriceStyleArr[1]),this.currentCell.removeClass(this.curPriceStyleArr[2]),this.currentCell[0].style.setProperty("border-right",this._currentCellBorderRight),this.currentCell[0].style.setProperty("border-bottom",this._currentCellBorderBottom))},EXHogaGrid.prototype.setCurrentPriceStyleArr=function(t){this.curPriceStyleArr=["EXHogaGrid-CurPrice-Up","EXHogaGrid-CurPrice-Down","EXHogaGrid-CurPrice-Steady"],t[0]&&(this.curPriceStyleArr[0]=t[0]),t[1]&&(this.curPriceStyleArr[1]=t[1]),t[2]&&(this.curPriceStyleArr[2]=t[2])},EXHogaGrid.prototype.setDecimal=function(t){var e;this.decimalExp=t;for(var r=0;r<2*this.quoteCount;r++)(e=this.getCell(r,1)).dm&&(e.dm.maskFuncs[0]===this.decimalFunc?e.dm.updateMaskFunc(this.decimalFunc,[t],0):e.dm.insertMaskFunc(this.decimalFunc,[t],0))},EXHogaGrid.prototype.decimalFunc=function(t,e,r){return t?ADataMask.Number.decimalAdjust.func(t,["floor",-1*e[0]]).toFixed(e[0]):""},EXHogaGrid.prototype.initBar=function(){for(var t,e=10,r=0;r<e;r++)(t=this.getCell(r,0))&&(t.style["background-size"]="0px"),(t=this.getCell(r+e,2))&&(t.style["background-size"]="0px");if(this.isDev())for(e=this.quoteCount,r=0;r<e;r++)this.getCell(r,0).style["background-size"]=(r+1)/e*100+"% "+this.barSize,this.getCell(r+e,2).style["background-size"]=(e-r)/e*100+"% "+this.barSize},EXHogaGrid.prototype.setBarSize=function(t){this.barSize=t=t||"70%";for(var e,r=this.quoteCount,i=0;i<this.quoteCount;i++)e=(e=this.getCell(i,0).style["background-size"])?e.split(" ")[0]:"0px",this.getCell(i,0).style["background-size"]=e+" "+this.barSize,e=(e=this.getCell(i+r,2).style["background-size"])?e.split(" ")[0]:"0px",this.getCell(i+r,2).style["background-size"]=e+" "+this.barSize},EXHogaGrid.prototype.getBarSize=function(){return this.barSize},EXHogaGrid.prototype.setAskBarBgImg=function(t){for(var e=0;e<this.quoteCount;e++)this.getCell(e,0).style["background-image"]=t,this.getCell(e,0).style["background-repeat"]="no-repeat"},EXHogaGrid.prototype.getAskBarBgImg=function(){return this.getCell(0,0).style["background-image"]},EXHogaGrid.prototype.setBidBarBgImg=function(t){for(var e=this.quoteCount;e<this.rowLen;e++)this.getCell(e,2).style["background-image"]=t,this.getCell(e,2).style["background-repeat"]="no-repeat"},EXHogaGrid.prototype.getBidBarBgImg=function(){return this.getCell(this.quoteCount,2).style["background-image"]},EXHogaGrid.prototype.setAskBarPositionX=function(t){for(var e=0;e<this.quoteCount;e++)this.getCell(e,0).style["background-position-x"]=t},EXHogaGrid.prototype.getAskBarPositionX=function(){return this.getCell(0,0).style["background-position-x"]},EXHogaGrid.prototype.setAskBarPositionY=function(t){for(var e=0;e<this.quoteCount;e++)this.getCell(e,0).style["background-position-y"]=t},EXHogaGrid.prototype.getAskBarPositionY=function(){return this.getCell(0,0).style["background-position-y"]},EXHogaGrid.prototype.setBidBarPositionX=function(t){for(var e=this.quoteCount;e<this.rowLen;e++)this.getCell(e,2).style["background-position-x"]=t},EXHogaGrid.prototype.getBidBarPositionX=function(){return this.getCell(this.quoteCount,2).style["background-position-x"]},EXHogaGrid.prototype.setBidBarPositionY=function(t){for(var e=this.quoteCount;e<this.rowLen;e++)this.getCell(e,2).style["background-position-y"]=t},EXHogaGrid.prototype.getBidBarPositionY=function(){return this.getCell(this.quoteCount,2).style["background-position-y"]},EXHogaGrid.prototype.setBottomRowCount=function(t){this.btmRowCnt=t=+(t=t<0?0:t),this.changeRowCount(this.rowLen+t,!1)},EXHogaGrid.prototype.getBottomRowCount=function(){return this.btmRowCnt},EXHogaGrid.prototype.setQuoteCount=function(t){if(this.quoteCount<(t=+t)){var e=$(this.getRow(0)),r=e.clone(),i=r.children().last();i.removeAttr("rowspan"),i.css("display","none");for(var o=this.quoteCount;o<t;o++)e.after(r.clone());this.getCell(0,2).setAttribute("rowspan",t),(i=(r=(e=$(this.getRow(t))).clone()).children().first()).removeAttr("rowspan"),i.css("display","none");for(o=this.quoteCount;o<t;o++)e.after(r.clone());this.getCell(t,0).setAttribute("rowspan",t)}else if(this.quoteCount>t){this.getCell(this.quoteCount,0).setAttribute("rowspan",t);for(o=t;o<this.quoteCount;o++)this.removeRow(this.quoteCount+1);this.getCell(0,2).setAttribute("rowspan",t);for(o=t;o<this.quoteCount;o++)this.removeRow(1)}this.initVariables(),this.init(this.element),this.delegator&&this.delegator.onRowCountChange&&this.delegator.onRowCountChange()},EXHogaGrid.prototype.getQuoteCount=function(){return this.quoteCount},EXHogaGrid.prototype.setDelegator=function(t){this.delegator=t},EXHogaGrid.prototype.toggleRateMode=function(){if(this.rateMode){this.rateMode=!1;for(var t=0;t<this.rowLen;t++)$($(this.getCell(t,1)).children()[0]).remove()}else{var e,r;this.rateMode=!0;for(t=0;t<this.rowLen;t++)(e=(r=$(this.getCell(t,1))).text()).trim()&&this.setRateTag(e,r[0])}},EXHogaGrid.prototype.setRateTag=function(t,e){var r="";this.basePrice?t&&(t=ADataMask.Number.removeComma.func(t)-this.basePrice,r=ADataMask.Number.money.func((t/this.basePrice*100).toFixed(2))+this.rateSuffixStr):r=" - ",e.lastElementChild?e.lastElementChild.textContent=r:$(e).append('<span class="'+this.rateClass+'" style="padding:0 0 0 10px;'+this.rateStyle+'">'+r+"</span>")},EXHogaGrid.prototype.setQueryData=function(t,e,r){if(e){var i=t[0];i[this.curPriceKey]&&(this.currentPrice=i[this.curPriceKey]),i[this.basePriceKey]&&(this.basePrice=i[this.basePriceKey]);var o,a,d,s,n,l=-1,p=0,g=0;for(this._clearCurrentCell(),d=0;d<this.rowLen;d++)for(o=this.getRow(d),s=0;s<this.columnCount;s++)"none"!=(n=this.getCell(o,s)).style.display&&((a=e[++l])&&(this.valArr[d][s]=+i[a]),p=this.valArr[d][s],1==s?(this.currentPrice==p&&this.selectCurrentCell(n),this.basePrice<p?n.style.color=this.upColor:this.basePrice>p?n.style.color=this.downColor:n.style.color=this.steadyColor):g<p&&(g=p));for(AGrid.prototype.setQueryData.call(this,t,e,r),0==g&&(g=1),l=-1,d=0;d<this.rowLen;d++)for(o=this.getRow(d),s=0;s<this.columnCount;s++)"none"!=(n=this.getCell(o,s)).style.display&&(l++,p=this.valArr[d][s],1==s?this.rateMode&&this.setRateTag(p,n):(a=e[l])&&n.style.setProperty("background-size",(p/g*100).toFixed(1)+"% "+this.barSize,"important"))}},EXHogaGrid.prototype._getDataStyleObj=function(){for(var t,e=AComponent.prototype._getDataStyleObj.call(this),r=["data-select-class","data-style-header","data-style-body","data-select-up","data-select-down","data-select-steady"],i=0;i<r.length;i++)t=1==i?this.$ele.find("thead").attr(r[i]):2==i?this.$ele.find("tbody").attr(r[i]):this.getAttr(r[i]),e[r[i]]=t||"";return e},EXHogaGrid.prototype._setDataStyleObj=function(t){for(var e in t)e==afc.ATTR_STYLE?this._set_class_helper(this.$ele,null,t,e):"data-style-header"==e?this._set_class_helper(this.$ele.find("thead"),null,t,e):"data-style-body"==e?this._set_class_helper(this.$ele.find("tbody"),null,t,e):this.setAttr(e,t[e])},EXHogaGrid.prototype._clearValArr=function(){this.valArr=new Array(this.rowLen);for(var t=0;t<this.rowLen;t++){this.valArr[t]=new Array(this.colLen);for(var e=0;e<this.colLen;e++)this.valArr[t][e]=0}}}();