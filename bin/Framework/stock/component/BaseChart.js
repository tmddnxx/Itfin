var CP=window.CanvasRenderingContext2D&&CanvasRenderingContext2D.prototype;CP&&CP.lineTo&&(CP.dashedLine=function(t,e,s,i,o){console.warn("dashedLine is deprecated, please use drawDashedLine"),0==d&&(d=.001);for(var a=(o=o||[10,5]).length,n=(this.moveTo(t,e),s-t),s=i-e,h=s/n,r=Math.sqrt(n*n+s*s),c=0,l=!0;.1<=r;){var d=o[c++%a],p=(r<d&&(d=r),Math.sqrt(d*d/(1+h*h)));t+=p=n<0?-p:p,e+=h*p,this[l?"lineTo":"moveTo"](t,e),r-=d,l=!l}}),(BaseChart=class extends AComponent{constructor(){super(),this.frwName="stock",this.canvas=null,this.ctx=null,this.data=[],this.pos={},this.eleW=0,this.eleH=0,this.compLeft=0,this.middleX=0,this.FONT_FAMILY="Regular",this.colorObj={},this.decimalExp=0}}).prototype.init=function(t,e){AComponent.prototype.init.call(this,t,e),this.canvas=this.element.children[0],this.ctx=this.canvas.getContext("2d"),this.canvas.style.backgroundColor="transparent",this.extractColorObj(),this.canvas.style.width="",this.canvas.style.height="",this.FONT_FAMILY=this.$ele.css("font-family");var s,i=this;this.isDev()&&(s=this.className,window[s].demoData?this.setData(window[s].demoData,"EXMiniChart"==s?600:void 0):$.ajax({url:"Framework/stock/asset/"+s+"Data.txt",async:!1,success:function(t){window[s].demoData=JSON.parse(t),i.setData(window[s].demoData,"EXMiniChart"==s?600:void 0)},error:function(t){console.log(t)}})),setTimeout(function(){i.isValid()&&i.updatePosition()})},BaseChart.prototype.extractColorObj=function(){var t,e,s=$(this.element);for(e in this.colorObj)(t=s.attr("data-color-"+e.toLowerCase()))?this.colorObj[e]=t:this.defColorObj&&(this.colorObj[e]=this.defColorObj[e]);var i=(i=this.element.style.backgroundColor)||"transparent";this.colorObj.BACK=i},BaseChart.prototype.setColors=function(t,e){if(t)for(var s in t)t.hasOwnProperty(s)&&(this.colorObj[s]=t[s]);e&&this.draw()},BaseChart.prototype.updatePosition=function(t,e){AComponent.prototype.updatePosition.call(this,t,e),this.eleW=$(this.element).width(),this.eleH=$(this.element).height(),this.canvas.style.width=this.eleW+"px",this.canvas.style.height=this.eleH+"px";t=window.devicePixelRatio;this.canvas.width=this.eleW*t,this.canvas.height=this.eleH*t,this.ctx.scale(t,t),this.compLeft=this._getCompLeft(),this.middleX=this._getMiddleX()},BaseChart.prototype._getCompLeft=function(){return this.getBoundRect().left},BaseChart.prototype._getMiddleX=function(){return $(this.element).width()/2+this._getCompLeft()},BaseChart.prototype.setData=function(t){},BaseChart.prototype.updateGraph=function(){},BaseChart.prototype.resetDraw=function(){},BaseChart.prototype.draw=function(){},BaseChart.prototype.drawDashedLine=function(t,e,s,i,o){var a=this.ctx.getLineDash();this.ctx.beginPath(),this.ctx.setLineDash(o),this.ctx.moveTo(t,e),this.ctx.lineTo(s,i),this.ctx.stroke(),this.ctx.setLineDash(a)},BaseChart.prototype.setDecimal=function(t){this.decimalExp=t},BaseChart.prototype._getDecimalValue=function(t){return null!=this.decimalExp&&(t=ADataMask.Number.decimalAdjust.func(t,["floor",-1*this.decimalExp]).toFixed(this.decimalExp)),ADataMask.Number.money.func(t)};